---
title: "React Routerã®ãƒšãƒ¼ã‚¸é·ç§»ã§ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ä½ç½®ã‚’ãƒªã‚»ãƒƒãƒˆã™ã‚‹"
emoji: "ğŸŒ€"
type: "tech"
topics: ["React", "React Router"]
published: true
---
## å‰ç½®ã

SPAã§ã¯ãƒšãƒ¼ã‚¸é·ç§»ã§ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ä½ç½®ãŒãƒªã‚»ãƒƒãƒˆã•ã‚Œã¾ã›ã‚“ã€‚
React Router v6.4.4ã§ã¯æ–°ãŸã«`<ScrollRestoration />`ãŒè¿½åŠ ã•ã‚Œã€ã“ã®ãƒšãƒ¼ã‚¸é·ç§»ã«ã¨ã‚‚ãªã†ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ä½ç½®ã®åˆ¶å¾¡ã‚’ç°¡å˜ã«è¡Œã†ã“ã¨ãŒã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚
https://reactrouter.com/en/main/components/scroll-restoration

## `<ScrollRestoration />`ã®ä½¿ã„æ–¹

ã¾ãšã¯React Router v6.4.4ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚

```shell
npm i react-router-dom@6.4.4
```

æ¬¡ã«ãƒ«ãƒ¼ã‚¿ãƒ¼ã®è¨­å®šã‚’è¡Œã„ã¾ã™ã€‚å¾“æ¥ã®`<BrowserRouter>`ã«ã‚ˆã‚‹è¨­å®šã§ã¯ãªãã€ã“ã¡ã‚‰ã‚‚v6.4ã§æ–°ãŸã«è¿½åŠ ã•ã‚ŒãŸãƒ‡ãƒ¼ã‚¿APIã‚’ã‚µãƒãƒ¼ãƒˆã™ã‚‹ãƒ«ãƒ¼ã‚¿ãƒ¼è¨­å®šã‚’ä½¿ç”¨ã™ã‚‹ã‚ˆã†ã«ã—ã¦ãã ã•ã„ã€‚

- createBrowserRouterï¼ˆå…¬å¼æ¨å¥¨ï¼‰
- createMemoryRouter
- createHashRouter

é€šå¸¸ã¯createBrowserRouterã‚’ä½¿ç”¨ã—ã¾ã™ã€‚

```jsx
import { createBrowserRouter, RouterProvider, ScrollRestoration } from 'react-router-dom';
import ReactDOM from 'react-dom/client';

const Layout = () => {
  return (
    <div>
      {/* ... */}
      <ScrollRestoration />
    </div>
  );
};

const router = createBrowserRouter([
  {
    path: '/',
    element: <Layout />,
    children: [
      { index: true, element: <Home /> },
      { path: '/path-to-page/', element: <Page /> },
    ],
  },
]);

ReactDOM.createRoot(document.getElementById("root")).render(
  <React.StrictMode>
    <RouterProvider router={router} />
  </React.StrictMode>
);
```

ä»¥ä¸Šã§ãƒšãƒ¼ã‚¸é·ç§»ã«ã¨ã‚‚ãªã„ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ä½ç½®ãŒãƒªã‚»ãƒƒãƒˆã•ã‚Œã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚

## ãƒ‡ãƒ¢

https://stackblitz.com/github/remix-run/react-router/tree/main/examples/scroll-restoration?file=src%2Fapp.tsx

## è¦ç‚¹

- ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®Root Routeã«`<ScrollRestoration />`ã‚’é…ç½®ã™ã‚‹ã€‚ï¼ˆå…¬å¼æ¨å¥¨ï¼‰
- ãƒ«ãƒ¼ã‚¿ãƒ¼ã®è¨­å®šã«ã¯`<BrowserRouter>`ã§ã¯ãªã`createBrowserRouter`ã‚’ä½¿ç”¨ã™ã‚‹ã€‚